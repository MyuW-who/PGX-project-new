<!DOCTYPE html>
<html lang="th">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Audit Log</title>
	<!-- Reuse admin layout styles for sidebar + header -->
	<link rel="stylesheet" href="./css/adminpage.css" />
	<link rel="stylesheet" href="./css/darkmode.css" />
	<link rel="stylesheet" href="./css/auditlog.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
	<!-- Removed Google Fonts and inline body font to use admin page font -->
	<!-- <link rel="preconnect" href="https://fonts.googleapis.com" /> -->
	<!-- <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /> -->
	<!-- <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;500;600;700&display=swap" rel="stylesheet" /> -->
	<!-- <style> body { font-family: "Prompt", Segoe UI, Tahoma, sans-serif; } </style> -->
  
</head>
<body>
	<div class="layout">
		<!-- Sidebar: same structure/styles as adminpage -->
		<aside class="sidebar">
			<div class="brand">PGX Admin</div>
			<nav class="nav-menu">
				<a href="#" class="nav-item" id="dashboard-btn">
					<span>Menu</span>
				</a>
				<a href="#" class="nav-item active" id="auditlog-btn">
					<span>Audit Log</span>
				</a>
				<a href="#" class="nav-item" id="admin-btn">
					<span>Employee</span>
				</a>
			</nav>
		</aside>

		<!-- Main -->
		<main class="main-content">
			<!-- Header: reuse admin header controls -->
			<header class="page-header">
				<div class="page-title">
					<h1>Audit Log</h1>
					<p>ติดตามกิจกรรมล่าสุดในระบบ</p>
				</div>
				<div class="header-buttons">
					<button id="themeToggle" class="icon-btn" title="เปลี่ยนธีม">
						<i class="fa fa-moon"></i>
					</button>
					<button id="langToggle" class="lang-btn" title="สลับภาษา">TH</button>
					<div class="dropdown">
						<button class="dropbtn" id="dropdownBtn">
							<i class="fa fa-user-circle"></i>
							Admin
							<i class="fa fa-caret-down"></i>
						</button>
						<div id="dropdownMenu" class="dropdown-content">
							<a href="#" id="settingsBtn">Settings</a>
							<a href="#">About</a>
							<a href="#" id="logout">Logout</a>
						</div>
					</div>
				</div>
			</header>

			<!-- Filters + Search -->
			<section class="card">
				<div class="filters">
					<div class="filter-group">
						<label for="filterUser">Filter by User</label>
						<select id="filterUser">
							<option value="all">All</option>
						</select>
					</div>
					<div class="filter-group">
						<label for="filterAction">Filter by Action</label>
						<select id="filterAction">
							<option value="all">All</option>
							<option value="created">Created</option>
							<option value="updated">Updated</option>
							<option value="moved">Moved</option>
							<option value="deleted">Deleted</option>
							<option value="role-updated">Role Updated</option>
							<option value="invited">Invited</option>
							<option value="login">Login</option>
						</select>
					</div>
					<div class="filter-group grow">
						<label for="searchInput">Search</label>
						<input id="searchInput" type="text" placeholder="ค้นหาคำในกิจกรรม เช่น ชื่อผู้ใช้ เป้าหมาย ..."/>
					</div>
				</div>
			</section>

			<!-- Audit list -->
			<section class="card">
				<div class="audit-header">
					<h2>กิจกรรมล่าสุด</h2>
					<span id="auditCount" class="muted"></span>
				</div>
				<ul id="auditList" class="audit-list" aria-live="polite"></ul>
				<div id="emptyState" class="empty-state" style="display:none;">
					<i class="fa-regular fa-clipboard"></i>
					<p>ไม่มีกิจกรรมตามเงื่อนไขที่เลือก</p>
				</div>
			</section>
		</main>

		<!-- Settings Popup (same markup as adminpage) -->
		<div id="settingsPopup" class="popup" style="display: none;">
			<div class="popup-content">
				<div class="popup-header">
					<h3>Settings</h3>
					<span class="close" id="closeSettings">&times;</span>
				</div>
				<div class="popup-body">
					<div class="setting-item">
						<label>Language:</label>
						<select id="languageSetting">
							<option value="th">ไทย (Thai)</option>
							<option value="en">English</option>
						</select>
					</div>
					<div class="setting-item">
						<label>Theme:</label>
						<select id="themeSetting">
							<option value="light">Light</option>
							<option value="dark">Dark</option>
						</select>
					</div>
					<div class="setting-item">
						<label>Notifications:</label>
						<input type="checkbox" id="notificationsSetting" checked>
					</div>
				</div>
				<div class="popup-footer">
					<button class="btn-primary" id="saveSettings">Save</button>
					<button class="btn-secondary" id="cancelSettings">Cancel</button>
				</div>
			</div>
		</div>

	</div>

	<script src="./js/userProfile.js"></script>
	<script src="./js/auditlog.js"></script>
</body>
</html>
